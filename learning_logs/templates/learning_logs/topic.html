{% extends "learning_logs/base.html" %}

{% block header %}
    <h2>Topic: {{ topic }}</h2>
    <span>
        <a href="{% url 'learning_logs:delete_topic' topic.id %}" class="badge badge-danger">
            Delete topic
        </a>
    </span>
{% endblock header %}
{% block content %}

    <p>Entries: </p>
    <p>
        <a class="btn btn-primary" href="{% url 'learning_logs:new_entry' topic.id %}">add new entry</a>
    </p>
    <ul>
        {% for entry in entries %}
            <div class="card" style="margin: 10px">
                <div class="card-header">
                    <h3>
                        {{ entry.date_added|date:'M d, Y H:i' }}
                        <small>
                            <a class="btn btn-primary btn-sm" href="{% url 'learning_logs:edit_entry' entry.id %}">edit entry</a>
                        </small>
                    </h3>
                </div>
                <div class="card-body">
                    <p class="card-text">{{ entry.text|linebreaks }}</p>
                    <a href="{% url 'learning_logs:delete_entry' entry.id %}" class="btn btn-danger btn-sm"
                       style="position: absolute; right: 15px; bottom: 15px">Delete entry</a>
                </div>
            </div> <!-- panel -->

        {% empty %}
          There are no entries for this topic yet.
        {% endfor %}
    </ul>
{% endblock content %}